{
  "name": "sql-query-doc-context",
  "version": "1.0.0",
  "template_id": "sql_query_doc_context_v1",
  "display_name": "SQL Query Template - Document Context",
  "description": "Two-phase strategy: Execute SQL statement and generate final report. Generates question/SQL pairs from technical documentation (DBA guides, performance docs) with configurable context topics.",
  "author": "TDA Core Team",
  "license": "MIT",
  "homepage": "https://github.com/rgeissen/trusted-data-agent",
  "repository": {
    "type": "git",
    "url": "https://github.com/rgeissen/trusted-data-agent"
  },
  "keywords": [
    "sql",
    "database",
    "query",
    "documentation",
    "dba",
    "performance",
    "operations",
    "pdf",
    "document-driven"
  ],
  "compatibility": {
    "min_app_version": "1.0.0",
    "max_app_version": "2.x.x"
  },
  "dependencies": {
    "templates": [],
    "python_packages": ["PyPDF2", "pdfplumber"]
  },
  "files": {
    "template": "sql_query_doc_context_v1.json",
    "readme": "README.md",
    "license": "LICENSE"
  },
  "permissions": [
    "database_access",
    "file_upload",
    "pdf_processing"
  ],
  "ui_components": {
    "config_panel": false,
    "preview_renderer": false,
    "file_upload": true
  },
  "population_modes": {
    "manual": {
      "supported": true,
      "description": "User manually enters question/SQL pairs with document context through the template interface",
      "required_fields": ["user_query", "sql_statement", "context_topic", "document_content"]
    },
    "auto_generate": {
      "supported": true,
      "requires_llm": true,
      "requires_pdf": true,
      "description": "LLM generates question/SQL pairs from technical documentation (DBA guides, performance docs, operational manuals)",
      "input_variables": {
        "context_topic": {
          "required": true,
          "description": "Technical domain or documentation topic",
          "example": "database performance tuning, index optimization, query best practices"
        },
        "document_content": {
          "required": true,
          "description": "Technical documentation content (from PDFs, manuals, or guides)",
          "example": "DBA guide sections, performance tuning documentation, best practices"
        },
        "database_name": {
          "required": false,
          "description": "Target database name",
          "example": "production_db, teradata_prod"
        },
        "num_examples": {
          "required": true,
          "type": "integer",
          "default": 5,
          "min": 1,
          "max": 20,
          "description": "Number of question/SQL pairs to generate"
        }
      }
    }
  },
  "metadata": {
    "category": "Database",
    "difficulty": "intermediate",
    "estimated_tokens": {
      "planning": 200,
      "execution": 220
    },
    "tags": ["built-in", "sql", "documentation", "operations", "dba"]
  }
}
