/**
 * Theme System for Trusted Data Agent
 * Supports multiple themes with CSS custom properties
 */

/* ============================================================================
   DEFAULT THEME VARIABLES (applies to all themes)
   ============================================================================ */
:root {
    /* Brand Colors - refined with extended palette */
    --teradata-orange: #F15F22;
    --teradata-orange-dark: #D9501A;
    --teradata-orange-light: #FF7A47;
    --teradata-orange-glow: rgba(241, 95, 34, 0.4);
    --teradata-orange-subtle: rgba(241, 95, 34, 0.08);
    
    /* Typography - refined scale */
    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-display: 'Space Grotesk', 'Inter', sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    
    /* Type Scale (1.250 - Major Third) */
    --text-xs: 0.64rem;      /* 10.24px */
    --text-sm: 0.8rem;       /* 12.8px */
    --text-base: 1rem;       /* 16px */
    --text-lg: 1.25rem;      /* 20px */
    --text-xl: 1.563rem;     /* 25px */
    --text-2xl: 1.953rem;    /* 31.25px */
    --text-3xl: 2.441rem;    /* 39.06px */
    --text-4xl: 3.052rem;    /* 48.83px */
    
    /* Spacing Scale (4px base) */
    --space-1: 0.25rem;   /* 4px */
    --space-2: 0.5rem;    /* 8px */
    --space-3: 0.75rem;   /* 12px */
    --space-4: 1rem;      /* 16px */
    --space-5: 1.5rem;    /* 24px */
    --space-6: 2rem;      /* 32px */
    --space-8: 3rem;      /* 48px */
    --space-10: 4rem;     /* 64px */
    
    /* Border Radius System */
    --radius-xs: 0.25rem;   /* 4px - tight elements */
    --radius-sm: 0.375rem;  /* 6px - buttons, inputs */
    --radius-md: 0.5rem;    /* 8px - cards */
    --radius-lg: 0.75rem;   /* 12px - panels */
    --radius-xl: 1rem;      /* 16px - modals */
    --radius-2xl: 1.5rem;   /* 24px - hero elements */
    --radius-full: 9999px;  /* circular */
    
    /* Layout Dimensions */
    --header-height: 64px;
    --sidebar-width: 280px;
    
    /* Elevation System - refined shadows with color tints */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 2px 4px 0 rgba(0, 0, 0, 0.08), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 8px -2px rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 10px 20px -5px rgba(0, 0, 0, 0.16), 0 4px 8px -2px rgba(0, 0, 0, 0.08);
    --shadow-xl: 0 20px 40px -10px rgba(0, 0, 0, 0.24), 0 8px 16px -4px rgba(0, 0, 0, 0.12);
    --shadow-2xl: 0 30px 60px -15px rgba(0, 0, 0, 0.32), 0 12px 24px -6px rgba(0, 0, 0, 0.16);
    
    /* Glow Effects for accents */
    --glow-orange: 0 0 20px var(--teradata-orange-glow);
    --glow-orange-strong: 0 0 30px rgba(241, 95, 34, 0.6), 0 0 60px rgba(241, 95, 34, 0.3);
    
    /* Animation Timing - sophisticated easing */
    --ease-in-out-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out-back: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    
    /* Transition Durations */
    --duration-instant: 100ms;
    --duration-fast: 200ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
    --duration-slower: 700ms;
    
    /* Z-Index Scale */
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
    --z-notification: 1080;
}

/* ============================================================================
   LEGACY THEME (Current Dark Brown/Grey)
   ============================================================================ */
[data-theme="legacy"] {
    /* Backgrounds */
    --bg-primary: #262626;
    --bg-secondary: #333333;
    --bg-tertiary: #404040;
    --bg-elevated: #4a4a4a;
    --bg-overlay: rgba(38, 38, 38, 0.95);
    
    /* Glass/Blur Effects */
    --glass-bg: rgba(51, 51, 51, 0.5);
    --glass-border: rgba(255, 255, 255, 0.1);
    
    /* Text Colors */
    --text-primary: #F0F0F0;
    --text-secondary: #CCCCCC;
    --text-tertiary: #999999;
    --text-muted: #666666;
    --text-inverse: #1a1a1a;
    
    /* Border Colors */
    --border-primary: rgba(255, 255, 255, 0.1);
    --border-secondary: rgba(255, 255, 255, 0.05);
    --border-focus: rgba(241, 95, 34, 0.5);
    
    /* Status Colors */
    --status-success: #10b981;
    --status-error: #ef4444;
    --status-warning: #f59e0b;
    --status-info: #3b82f6;
    
    /* Component Specific */
    --header-bg: rgba(26, 26, 26, 0.95);
    --sidebar-bg: rgba(38, 38, 38, 0.98);
    --card-bg: rgba(51, 51, 51, 0.6);
    --input-bg: rgba(64, 64, 64, 0.8);
    --button-bg: rgba(74, 74, 74, 0.8);
    --modal-bg: rgba(38, 38, 38, 0.98);
    --modal-overlay: rgba(0, 0, 0, 0.75);
    
    /* Hover/Active States */
    --hover-bg: rgba(255, 255, 255, 0.05);
    --active-bg: rgba(255, 255, 255, 0.1);
    --hover-border: rgba(255, 255, 255, 0.2);
    
    /* Scrollbar */
    --scrollbar-thumb: rgba(255, 255, 255, 0.2);
    --scrollbar-track: transparent;
    
    /* Chat Specific */
    --message-user-bg: rgba(241, 95, 34, 0.15);
    --message-assistant-bg: rgba(51, 51, 51, 0.6);
    --message-border: rgba(255, 255, 255, 0.1);
    
    /* Avatar */
    --avatar-bg: #4b5563;
    --avatar-border: rgba(255, 255, 255, 0.2);
}

/* ============================================================================
   MODERN THEME (Login Screen Style - Deep Blue/Slate)
   Enhanced with gradients and refined depth
   ============================================================================ */
[data-theme="modern"] {
    /* Backgrounds - refined with subtle gradients */
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --bg-elevated: #475569;
    --bg-overlay: rgba(15, 23, 42, 0.98);
    
    /* Gradient Overlays for depth */
    --gradient-primary: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    --gradient-card: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
    --gradient-elevated: linear-gradient(135deg, rgba(71, 85, 105, 0.3) 0%, transparent 100%);
    
    /* Glass/Frosted Effects - enhanced blur */
    --glass-bg: rgba(30, 41, 59, 0.7);
    --glass-bg-strong: rgba(30, 41, 59, 0.85);
    --glass-border: rgba(148, 163, 184, 0.15);
    --glass-border-strong: rgba(148, 163, 184, 0.25);
    
    /* Text Colors - refined hierarchy */
    --text-primary: #f8fafc;
    --text-secondary: #e2e8f0;
    --text-tertiary: #cbd5e1;
    --text-muted: #94a3b8;
    --text-subtle: #64748b;
    --text-inverse: #0f172a;
    
    /* Border Colors - multi-tier system */
    --border-primary: rgba(148, 163, 184, 0.18);
    --border-secondary: rgba(148, 163, 184, 0.1);
    --border-subtle: rgba(148, 163, 184, 0.05);
    --border-focus: rgba(241, 95, 34, 0.6);
    --border-focus-ring: rgba(241, 95, 34, 0.2);
    
    /* Status Colors - vibrant with depth */
    --status-success: #10b981;
    --status-success-bg: rgba(16, 185, 129, 0.1);
    --status-error: #ef4444;
    --status-error-bg: rgba(239, 68, 68, 0.1);
    --status-warning: #f59e0b;
    --status-warning-bg: rgba(245, 158, 11, 0.1);
    --status-info: #3b82f6;
    --status-info-bg: rgba(59, 130, 246, 0.1);
    
    /* Component Specific - refined backgrounds */
    --header-bg: rgba(15, 23, 42, 0.98);
    --header-border: rgba(148, 163, 184, 0.12);
    --sidebar-bg: rgba(30, 41, 59, 0.98);
    --sidebar-border: rgba(148, 163, 184, 0.1);
    --card-bg: rgba(30, 41, 59, 0.85);
    --card-bg-hover: rgba(30, 41, 59, 0.95);
    --input-bg: rgba(15, 23, 42, 0.6);
    --input-bg-focus: rgba(15, 23, 42, 0.8);
    --button-bg: rgba(51, 65, 85, 0.8);
    --button-bg-hover: rgba(71, 85, 105, 0.9);
    --modal-bg: rgba(30, 41, 59, 0.98);
    --modal-overlay: rgba(0, 0, 0, 0.75);
    
    /* Hover/Active States - refined interaction */
    --hover-bg: rgba(148, 163, 184, 0.08);
    --hover-bg-strong: rgba(148, 163, 184, 0.12);
    --active-bg: rgba(148, 163, 184, 0.15);
    --hover-border: rgba(148, 163, 184, 0.3);
    
    /* Scrollbar - refined appearance */
    --scrollbar-thumb: rgba(148, 163, 184, 0.3);
    --scrollbar-thumb-hover: rgba(148, 163, 184, 0.5);
    --scrollbar-track: transparent;
    
    /* Chat Specific - enhanced contrast */
    --message-user-bg: linear-gradient(135deg, rgba(241, 95, 34, 0.15) 0%, rgba(241, 95, 34, 0.08) 100%);
    --message-user-border: rgba(241, 95, 34, 0.3);
    --message-assistant-bg: rgba(30, 41, 59, 0.9);
    --message-assistant-border: rgba(148, 163, 184, 0.15);
    --message-border: rgba(148, 163, 184, 0.15);
    
    /* Avatar - refined depth */
    --avatar-bg: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    --avatar-border: rgba(59, 130, 246, 0.4);
    --avatar-glow: 0 0 20px rgba(59, 130, 246, 0.3);
    
    /* Accent Overlays */
    --accent-overlay: rgba(241, 95, 34, 0.05);
    --accent-overlay-hover: rgba(241, 95, 34, 0.1);
    
    /* Backdrop Blur Strength */
    --blur-light: blur(8px);
    --blur-medium: blur(16px);
    --blur-strong: blur(24px);
}

/* ============================================================================
   THEME APPLICATION TO BODY
   Enhanced with sophisticated gradients and depth
   ============================================================================ */
body {
    background: var(--gradient-primary, var(--bg-primary));
    background-attachment: fixed;
    color: var(--text-primary);
    font-family: var(--font-primary);
    font-size: var(--text-base);
    line-height: 1.6;
    letter-spacing: -0.01em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    transition: background var(--duration-normal) var(--ease-in-out-smooth),
                color var(--duration-fast) var(--ease-in-out-smooth);
}

/* Enhanced Glass Panel System */
.glass-panel {
    background: var(--glass-bg);
    backdrop-filter: var(--blur-medium);
    -webkit-backdrop-filter: var(--blur-medium);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
    transition: all var(--duration-normal) var(--ease-out-expo);
}

.glass-panel:hover {
    background: var(--glass-bg-strong, var(--glass-bg));
    border-color: var(--glass-border-strong, var(--glass-border));
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
}

.glass-panel-strong {
    background: var(--glass-bg-strong);
    backdrop-filter: var(--blur-strong);
    -webkit-backdrop-filter: var(--blur-strong);
    border: 1px solid var(--glass-border-strong);
    box-shadow: var(--shadow-lg);
}

/* ============================================================================
   REFINED COMPONENT STYLES
   ============================================================================ */

/* Enhanced Button Styles */
button, .btn {
    font-family: var(--font-primary);
    font-weight: 500;
    letter-spacing: -0.01em;
    transition: all var(--duration-fast) var(--ease-out-expo);
    border-radius: var(--radius-sm);
}

button:hover:not(:disabled), .btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

button:active:not(:disabled), .btn:active:not(:disabled) {
    transform: translateY(0);
    transition-duration: var(--duration-instant);
}

/* Orange accent button refinement */
button[class*="orange"], .btn-primary {
    background: linear-gradient(135deg, var(--teradata-orange) 0%, var(--teradata-orange-dark) 100%);
    box-shadow: 0 4px 12px rgba(241, 95, 34, 0.25);
    position: relative;
    overflow: hidden;
}

button[class*="orange"]:hover, .btn-primary:hover {
    box-shadow: 0 6px 20px rgba(241, 95, 34, 0.4);
}

button[class*="orange"]::before, .btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
    opacity: 0;
    transition: opacity var(--duration-fast) var(--ease-out-expo);
}

button[class*="orange"]:hover::before, .btn-primary:hover::before {
    opacity: 1;
}

/* Enhanced Input Styles */
input, textarea, select {
    font-family: var(--font-primary);
    letter-spacing: -0.01em;
    transition: all var(--duration-fast) var(--ease-in-out-smooth);
    border-radius: var(--radius-sm);
    background: var(--input-bg);
    border: 1px solid var(--border-secondary);
}

input:focus, textarea:focus, select:focus {
    background: var(--input-bg-focus, var(--input-bg));
    border-color: var(--border-focus);
    box-shadow: 0 0 0 3px var(--border-focus-ring, rgba(241, 95, 34, 0.1));
    outline: none;
}

/* Enhanced Card Styles */
.card, [class*="card"] {
    background: var(--gradient-card, var(--card-bg));
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    transition: all var(--duration-normal) var(--ease-out-expo);
}

.card:hover, [class*="card"]:hover {
    background: var(--card-bg-hover, var(--card-bg));
    border-color: var(--border-primary);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

/* ============================================================================
   MICRO-INTERACTIONS
   ============================================================================ */

/* Ripple effect for clickable elements */
@keyframes ripple {
    0% {
        transform: scale(0);
        opacity: 0.5;
    }
    100% {
        transform: scale(4);
        opacity: 0;
    }
}

.ripple-effect {
    position: relative;
    overflow: hidden;
}

.ripple-effect::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    width: 20px;
    height: 20px;
    pointer-events: none;
    transform: scale(0);
}

.ripple-effect:active::after {
    animation: ripple 0.6s var(--ease-out-expo);
}

/* Smooth scale on hover */
.hover-scale {
    transition: transform var(--duration-fast) var(--ease-out-expo);
}

.hover-scale:hover {
    transform: scale(1.02);
}

/* Glow effect for active elements */
.active-glow {
    box-shadow: var(--glow-orange);
    animation: pulse-glow 2s var(--ease-in-out-smooth) infinite;
}

@keyframes pulse-glow {
    0%, 100% {
        box-shadow: var(--glow-orange);
    }
    50% {
        box-shadow: var(--glow-orange-strong);
    }
}

/* ============================================================================
   SCROLLBAR REFINEMENTS
   ============================================================================ */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
    border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: var(--radius-full);
    transition: background var(--duration-fast) var(--ease-in-out-smooth);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover, var(--scrollbar-thumb));
}

/* ============================================================================
   THEME TRANSITION SUPPORT
   ============================================================================ */
* {
    transition-property: background-color, border-color, color, fill, stroke, box-shadow;
    transition-duration: var(--duration-normal);
    transition-timing-function: var(--ease-in-out-smooth);
}

/* Preserve specific animations */
button, a, input, textarea, select, [role="button"] {
    transition-property: all;
    transition-duration: var(--duration-fast);
}

/* Disable transitions during theme initialization */
.no-transition,
.no-transition * {
    transition: none !important;
    animation: none !important;
}

/* ============================================================================
   ACCESSIBILITY ENHANCEMENTS
   ============================================================================ */

/* Focus visible for keyboard navigation */
:focus-visible {
    outline: 2px solid var(--teradata-orange);
    outline-offset: 2px;
    border-radius: var(--radius-xs);
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
